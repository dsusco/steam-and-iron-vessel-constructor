import{f as C,o as s,c as t,a as n,t as i,b as x,h,n as R,s as S,F as v,r as _,g as B,u,d as I,w as q,i as E,e as d,p as O,m as F,j,k as D,q as H,v as T,x as L}from"./index-2e5f06be.js";import{u as A,a as N,W as z}from"./weapon-offensive-potential-20b3bed8.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";import{b as W,u as M,a as P,c as U,e as Y}from"./vessels-store-c33038a6.js";const G={class:"range"},J={class:"values"},K={class:"rateOfFire"},Q={class:"accuracy"},X={class:"damage"},Z={key:0,class:"penetration"},ee={__name:"CardBatteryRangeBand",props:{index:{type:Number,required:!0},rangeBand:{type:Object,required:!0}},setup(e){const a=e,l=C(()=>a.rangeBand.minimumRange===a.rangeBand.maximumRange?a.rangeBand.minimumRange:`${a.rangeBand.minimumRange}–${a.rangeBand.maximumRange}`);return(r,g)=>(s(),t("div",{class:R(`range_band _${e.index+1}`)},[n("div",G,i(l.value),1),n("div",J,[n("span",K,i(e.rangeBand.rateOfFire),1),x("× "),n("span",Q,i(e.rangeBand.accuracy),1),x("/"),n("span",X,i(e.rangeBand.damage),1),e.rangeBand.penetration!=="-"?(s(),t("span",Z,i(e.rangeBand.penetration),1)):h("",!0)])],2))}},se=$(ee,[["__scopeId","data-v-b50ec2f4"]]);const ae=["data-battery"],te={class:"name"},ne={class:"rangeBands"},ie={class:"eccentricies"},le={__name:"CardBattery",props:{label:{type:String,required:!0},weaponId:{type:String}},setup(e){const a=e,{weapons:l}=S(A()),r=C(()=>l.value[a.weaponId]);return(g,m)=>r.value?(s(),t("div",{key:0,class:R(`vessel_battery _${e.label.toLowerCase()}`),"data-battery":e.label},[n("div",te,i(r.value.name),1),n("div",ne,[(s(!0),t(v,null,_(r.value.rangeBands,(c,b)=>(s(),B(se,{key:b,index:b,rangeBand:c},null,8,["index","rangeBand"]))),128))]),n("ul",ie,[(s(!0),t(v,null,_(r.value.eccentricities,c=>(s(),t("li",{key:c},i(u(N).Weapon[c].name),1))),128))])],10,ae)):h("",!0)}},re=$(le,[["__scopeId","data-v-16545fd1"]]);function w(e){const a=I(null);return q(()=>{const l=u(e).replace(/\s/g,"");a.value="_"+l.charAt(0).toLowerCase()+l.slice(1)}),{variantName:a}}const ce=["data-battery"],de={__name:"CardConditionFiringDiagram",props:{firingArcs:{type:Object,required:!0},label:{type:String,required:!0}},setup(e){const a=e,l=E("batteries"),{weapons:r}=S(A()),g=C(()=>r.value[l.value[a.label].weaponId]),m=C(()=>w(g.value.type).variantName.value);return(c,b)=>g.value?(s(),t("div",{key:0,class:R(`firing_diagram _${e.label.toLowerCase()} ${m.value}`),"data-battery":e.label},[(s(!0),t(v,null,_(u(z)[g.value.type].firingArcs,o=>(s(),t("span",{class:R(`arc ${u(w)(o).variantName.value}`)},i(e.firingArcs[o]),3))),256))],10,ce)):h("",!0)}},oe=$(de,[["__scopeId","data-v-122ca554"]]),ue=["data-condition"],ve={class:"hullCheckboxes"},_e={class:"engineRating"},ge={class:"armorRating"},be={__name:"CardCondition",props:{condition:{type:Object,required:!0},label:{type:String,required:!0},vesselHullRating:{type:Number,required:!0}},setup(e){const a=e,l=W(d(a,"vesselHullRating"),d(a,"label")).hullCheckboxes.value[a.label];return(r,g)=>u(l)?(s(),t("div",{key:0,class:R(`vessel_condition _${e.label.toLowerCase()}`),"data-condition":e.label},[n("div",ve,[(s(!0),t(v,null,_(u(l),m=>(s(),t("span",null,"□ "))),256))]),n("div",_e,i(e.condition.engineRating),1),n("div",ge,i(e.condition.armorRating),1),(s(!0),t(v,null,_(e.condition.firingArcs,(m,c)=>(s(),B(oe,{key:c,firingArcs:m,label:c},null,8,["firingArcs","label"]))),128))],10,ue)):h("",!0)}};const k=e=>(j("data-v-5b39b650"),e=e(),D(),e),me={class:"vessel_card"},he={class:"vessel_information"},pe={class:"class"},ye={class:"type"},fe={class:"points"},Ce={class:"eccentricies"},Re={class:"vessel_batteries"},Be={key:0,class:"vessel_conditions"},$e=F('<div class="vessel_condition _header" data-v-5b39b650><div class="hullCheckboxes" data-v-5b39b650>H</div><div class="engineRating" data-v-5b39b650>E</div><div class="armorRating" data-v-5b39b650>A</div><div class="firing_diagram" data-v-5b39b650>Battery A</div><div class="firing_diagram" data-v-5b39b650>Battery B</div><div class="firing_diagram" data-v-5b39b650>Battery C</div></div>',1),ke={key:1,class:"vessel_values"},xe={class:"sizeCheckboxes"},we={class:"engineRating"},Se={class:"armorRating"},Ie={class:"vessel_record"},Ae=k(()=>n("div",{class:"id"},null,-1)),Ne=k(()=>n("div",{class:"speed"},null,-1)),Ve={key:0,class:"altitude"},qe={key:1,class:"depth"},Ee=k(()=>n("div",{class:"fired"},null,-1)),Oe={__name:"Card",props:{vessel:{type:Object,required:!0}},setup(e){const a=e,{classification:l,isColossal:r,isSmallCraft:g,isAerovessel:m}=M(d(a.vessel,"type")),{defensiveRating:c}=P(d(a.vessel,"type"),d(a.vessel,"hullRating"),d(a.vessel,"conditions"),d(a.vessel,"sizeCheckboxes"),d(a.vessel,"armorRating"),d(a.vessel,"eccentricities")),{offensiveRating:b}=U(d(a.vessel,"hullRating"),d(a.vessel,"batteries"),d(a.vessel,"conditions")),o=C(()=>Math.round(Math.sqrt(b.value*c.value)));return O("batteries",d(a.vessel,"batteries")),(y,V)=>(s(),t("div",me,[n("div",he,[n("div",pe,i(e.vessel.klass),1),n("div",ye,i(e.vessel.type),1),n("div",fe,i(o.value),1),n("ul",Ce,[(s(!0),t(v,null,_(e.vessel.eccentricities,p=>(s(),t("li",{key:p},i(u(N).Vessel[p].name),1))),128))])]),n("div",Re,[(s(!0),t(v,null,_(e.vessel.batteries,(p,f)=>(s(),B(re,{key:f,label:f,weaponId:p.weaponId},null,8,["label","weaponId"]))),128))]),u(r)?(s(),t("div",Be,[$e,(s(!0),t(v,null,_(e.vessel.conditions,(p,f)=>(s(),B(be,{key:f,condition:p,label:f,vesselHullRating:+e.vessel.hullRating},null,8,["condition","label","vesselHullRating"]))),128))])):h("",!0),u(g)?(s(),t("div",ke,[n("div",xe,[(s(!0),t(v,null,_(+e.vessel.sizeCheckboxes,p=>(s(),t("span",null,"□ "))),256))]),n("div",we,i(e.vessel.engineRating),1),n("div",Se,i(e.vessel.armorRating),1)])):h("",!0),n("div",Ie,[Ae,Ne,u(m)?(s(),t("div",Ve)):h("",!0),e.vessel.eccentricities.includes("Sub")?(s(),t("div",qe)):h("",!0),Ee])]))}},Fe=$(Oe,[["__scopeId","data-v-5b39b650"]]);const je=["value"],De={class:"vessel_cards"},He={__name:"CardsView",setup(e){const a=I(""),l=H([]),r=Y();function g(){l.push(a.value)}function m(c){l.splice(+c,1)}return(c,b)=>(s(),t("main",null,[T(n("select",{class:"_print_hidden","onUpdate:modelValue":b[0]||(b[0]=o=>a.value=o)},[(s(!0),t(v,null,_(u(r).vessels,(o,y)=>(s(),t("option",{key:y,value:y},i(o.klass||y),9,je))),128))],512),[[L,a.value]]),n("button",{class:"_print_hidden",onClick:b[1]||(b[1]=o=>g())},"Add Card"),n("div",De,[(s(!0),t(v,null,_(l,(o,y)=>(s(),B(Fe,{key:o,vessel:u(r).vessels[o],onClick:V=>m(y)},null,8,["vessel","onClick"]))),128))])]))}},Me=$(He,[["__scopeId","data-v-4c68cdcb"]]);export{Me as default};
